function Coord(){}function CoordConvert(){}
(function(d){Coord.presets={ign1:{name:"IGN REF1",pos:[0,0,2063.144]},est:{name:"Moteur Est",pos:[19.471,27.15,2066.71]},ouest:{name:"Moteur Ouest",pos:[-256.822,40.642,2048.827]},C1:{name:"Centre sphere",pos:[-133.52,-42.064,2246.81]},C8:{name:"C8 (Moteur Sud)",pos:[-112.539,-216.277,2090.075]},AncS:{name:"Ancrage Sud",pos:[-116.667,-444.384,2239.258]},AncN:{name:"Ancrage Nord",pos:[-101.784,341.373,2240]},MirN:{name:"Miroir Nord",pos:[-109.255,-21.413,2050.365]},MirS:{name:"Miroir Sud",pos:[-109.83,
-36.919,2048.896]},theo:{name:"REF Theodolite",pos:[-105.703,20.604,2057.474]},treuil:{name:"Treuil",pos:[-124.614,46.098,2059.71]},MelezeO:{name:"Mélèzes Ouest",pos:[-199.918,15.841,2035.644]}};var h=[4540448.348,538942.653,4434974.354],m=[-0.11782706,0.99303413,1.353E-5],n=[-0.69376071,-0.0823264,0.71548476],p=[0.71048492,0.08430895,0.69864381],q=[-0.1178386,-0.69377601,0.710501902],r=[0.99303276,-0.082328759,0.084294079],s=[1.42871E-6,0.715469652,0.698628343],k=[1000511.203,6364913.275],e=[0.99942269,
0.04772088],f=[-0.04772168,0.99942308],g=d.det2(e,f),t=[f[1]/g,-e[1]/g],u=[-f[0]/g,e[0]/g],l=[6.76922841,44.31868192];CoordConvert.prototype.XYZtoUVA=function(a,b,c){a=d.sub3([a,b,c],h);return[d.dot3(a,m),d.dot3(a,n),d.dot3(a,p)+2063.144]};CoordConvert.prototype.ENAtoUVA=function(a,b,c){void 0===b&&(b=a[1],c=a[2],a=a[0]);a=d.sub2([a,b],k);return[d.dot2(a,e),d.dot2(a,f),c]};CoordConvert.prototype.LLAtoUVA=function(a,b,c){a=d.sub2([a,b],l);return[79804.8*a[0],111157.2*a[1],c]};CoordConvert.prototype.UVAtoXYZ=
function(a,b,c){a=[a,b,c-2063.144];a=[d.dot3(a,q),d.dot3(a,r),d.dot3(a,s)];return d.add3(h,a)};CoordConvert.prototype.UVAtoENA=function(a,b,c){void 0===b&&(b=a[1],c=a[2],a=a[0]);a=[a,b];a=d.add2(k,[d.dot2(a,t),d.dot2(a,u)]);return[a[0],a[1],c]};CoordConvert.prototype.UVAtoLLA=function(a,b,c){a=d.add2(l,[a/79804.8,b/111157.2]);return[a[0],a[1],c]};CoordConvert.prototype.XYZtoENA=function(a,b,c){return this.UVAtoENA(this.XYZtoUVA(a,b,c))};CoordConvert.prototype.XYZtoLLA=function(a,b,c){return this.UVAtoLLA(this.XYZtoUVA(a,
b,c))};CoordConvert.prototype.ENAtoXYZ=function(a,b,c){return this.UVAtoXYZ(this.ENAtoUVA(a,b,c))};CoordConvert.prototype.ENAtoLLA=function(a,b,c){return this.UVAtoLLA(this.ENAtoUVA(a,b,c))};CoordConvert.prototype.dms=function(a){var b=Math.floor(a),c=Math.floor(60*(a-b));a=(60*(60*(a-b)-c)).toFixed(5);return"".concat(String(b),"° ",String(c),"' ",String(a),'"')};CoordConvert.prototype.accurate=function(a){return 1500>a[2]||2500<a[2]||1E6<d.dot2(a,a)?!1:!0}})(G);
